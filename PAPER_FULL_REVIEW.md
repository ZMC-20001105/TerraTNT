# 论文全章节审查报告

> 审查日期: 2026-02-14
> 审查范围: 全文5章 + 插图附表清单 + 符号缩略语表
> 审查重点: 章节间逻辑关系、内容一致性、论文描述与代码实现的匹配度

---

## 一、全局性严重问题（必须修改）

### 1.1 【致命】第5章/第1章声称使用MDN/GMM/GRU，实际代码全部不存在

**论文原文（第5章，主要研究工作）：**
> "采用门控循环单元提取轨迹时序特征，通过混合密度网络建模预测的不确定性，输出高斯混合模型未来轨迹分布。"

**论文原文（第1章，研究现状小结/预测策略）：**
> "通过混合密度网络这一参数化方法表达每个时间步位置的不确定性。"

**实际代码实现：**
- 历史编码器：`nn.LSTM`（非GRU）
- 损失函数：`nn.MSELoss()` + `nn.CrossEntropyLoss()`（非NLL/MDN损失）
- 输出：确定性位移序列 `Δp_t`（非高斯混合分布参数 μ, σ, π）
- 整个代码库中无任何 `GRU`、`MDN`、`MixtureDensity`、`GaussianMixture` 相关类或函数

**严重性：致命。** 这是论文核心方法描述与实际实现的根本性矛盾。第5章总结和第1章研究策略中描述的是一个从未实现的方法。

**修改建议：**
- 第1章预测策略：删除"通过混合密度网络这一参数化方法表达每个时间步位置的不确定性"，改为"通过候选终点概率分布和目标分类器实现对预测不确定性的离散化表达"
- 第5章主要研究工作：将"采用门控循环单元…输出高斯混合模型未来轨迹分布"整段重写为"采用LSTM网络提取轨迹时序特征，通过候选终点分类机制实现对目标意图不确定性的建模，输出确定性轨迹预测"
- 符号缩略语表：GMM、MDN、NLL 三个缩略语在正文中未被实际使用（仅在文献综述中提及），应标注清楚或移除

### 1.2 【严重】第4章实验数据与实际结果严重不符

论文中的实验表格数据与代码实际输出存在系统性差异，以下逐表对比：

#### 表4.6 Phase 1实验结果

| 模型 | 论文ADE(km) | 实际ADE(km) | 论文FDE(km) | 实际FDE(km) | 偏差 |
|------|------------|------------|------------|------------|------|
| 本文模型(TerraTNT) | **1.23** | **3.25** | **1.82** | **2.29** | ADE差164% |
| YNet | 1.35 | 3.03 | 1.91 | 1.02 | ADE差124% |
| PECNet | 3.01 | 3.91 | 5.30 | 3.18 | |
| SimpleLSTM | 4.83 | 7.72(LSTM_only) | 8.65 | 15.84 | |

**关键问题：**
- 论文声称"本文模型取得最优性能ADE=1.23km"，但实际Phase 1a中最优的是 **V6R_Robust (ADE=1.25km)**，而 TerraTNT 的实际ADE=3.25km，排名第7
- 论文中Phase 1最优模型的ADE=1.23km 实际上更接近 V6R_Robust(1.25km) 的结果，怀疑论文中"本文模型"引用的是V6R_Robust而非TerraTNT
- 论文中只列了4个模型对比，但实际评估了13个模型（含ConstantVelocity、V3_Waypoint、V4_WP_Spatial、V6_Autoreg、V6R_Robust、V7_ConfGate等），大量有价值的对比数据被隐藏

#### 表4.13 组件消融实验结果

| 配置 | 论文ADE(km) | 实际ADE(km) | 论文变化 | 实际变化 |
|------|------------|------------|---------|---------|
| 完整模型 | 1.23 | 1.25 | — | — |
| 无历史编码器 | 1.53 | 1.65 | +24.4% | +32% |
| 无环境编码器 | 2.12 | 7.31 | +72.4% | **+487%** |
| 无目标分类器 | 1.42 | 1.27 | +15.4% | +1.7% |
| MLP替代LSTM | 2.78 | 1.47 | +126% | +18% |

**关键问题：**
- "无环境编码器"论文写+72.4%，实际是+487%，差异巨大
- "无目标分类器"论文写+15.4%，实际仅+1.7%
- "MLP替代LSTM"论文写+126%，实际仅+18%
- 消融实验的基线ADE=1.25km对应的是V6R_Robust模型，而非论文声称的TerraTNT

**修改建议：** 所有实验表格必须使用 `outputs/evaluation/` 目录下的真实JSON数据重新填写。

### 1.3 【致命】摘要中"ADE=1.23km"与实际不符

**论文摘要（中英文）：**
> "TerraTNT在已知目标场景下取得最优性能，平均位移误差（ADE）为1.23km，相比基线模型降低8.9%至74.5%"

**实际：** TerraTNT在P1a的ADE=3.25km（排第7），真正最优的是V6R_Robust（ADE=1.25km）。摘要中的1.23km既不是TerraTNT的结果，也不是V6R_Robust的精确值。摘要作为论文最核心的对外窗口，数据必须准确。

### 1.4 【严重】摘要声称"共计10万余条60分钟轨迹"，实际仅约2170条

**论文摘要：**
> "覆盖4种车辆类型和3种战术意图，共计10万余条60分钟轨迹"

**实际数据统计：**
| 区域 | 轨迹数 |
|------|--------|
| bohemian_forest | 1166 |
| scottish_highlands | 600 |
| donbas | 204 |
| carpathians | 200 |
| **合计** | **2170** |

实际轨迹总数约2170条，与"10万余条"相差约46倍。即使考虑滑动窗口切分出的训练样本数（每条轨迹可切出多个90+360步样本），FAS3 split中bohemian_forest也仅有809个文件。

### 1.5 【严重】训练超参数：论文与实际配置不符

**论文表4.3声称：**
- 批量大小：64
- 初始学习率：1×10⁻⁴

**实际模型checkpoint中记录的config：**
- `batch_size: 16`（论文写64，差4倍）
- `lr: 0.001`（论文写1e-4，差10倍）
- `sample_fraction: 0.1`（仅使用10%样本训练，论文未提及）

### 1.6 【严重】论文未提及双尺度环境编码器，但实际模型使用了

**论文4.1.1节描述：** 单一的四层CNN环境编码器，输入18通道全局地图。

**实际模型checkpoint：** `use_dual_scale: True`，模型包含 `env_encoder.global_encoder` 和 `env_encoder.local_encoder` 两个子网络。这意味着实际模型同时使用了全局（100km）和局部（10km）两个尺度的环境地图，但论文完全没有描述局部环境编码器。

### 1.7 【严重】表编号不连续

缺失的表编号：表3.4、表4.5、表4.9、表4.16。这些编号跳跃会让审稿人质疑是否有内容遗漏。

**修改建议：** 重新编号所有表格，确保连续。

### 1.8 【严重】Phase 1样本数：论文893 vs 实际354

**论文4.3.2节：**
> "Phase 1验证集包含893个样本（域内目标），Phase 2验证集包含912个样本"

**实际：** P1a=354, P2a=354, P3a=254。论文声称的样本数与实际相差约2.5倍。

---

## 二、章节间逻辑关系问题

### 2.1 第2章与第3-4章的衔接断裂

**问题：** 第2章定义了"多星协同对地观测"的问题框架，引入了卫星观测时间窗口、多卫星观测序列等概念（2.2节），但这些概念在第3章（轨迹生成）和第4章（预测模型）中完全没有被使用。

- 第2章2.2节定义了卫星观测时间窗口 $[t_s^{(i)}, t_e^{(i)}]$，但第4章的模型输入是固定的90步历史+360步预测，与卫星观测窗口无关
- 第2章2.3节讨论了"环境约束的数学表示"，但其公式过于抽象泛化，与第3章实际使用的DEM/LULC/OSM具体数据没有对应关系
- 第2章2.4.3节讨论了"预测不确定性表示"，提到概率密度函数，但第4章模型输出的是确定性轨迹

**修改建议：**
- 第2章应明确说明：本文的预测任务是在两次卫星观测之间的空窗期进行目标位置预测，观测间隔决定了预测时域（60分钟）
- 删除或大幅精简2.2节中与后续章节无关的卫星轨道力学内容
- 2.4节应直接引出第3章和第4章要解决的具体问题，而非给出泛化的数学框架

### 2.2 第3章与第4章的数据流衔接

**问题：** 第3章生成轨迹数据集，第4章使用该数据集训练模型。但两章之间的数据格式对接描述不充分。

- 第3章表3.8定义了轨迹数据格式（位置x,y、时间戳T、速度v、航向角θ），但第4章表4.2的26维历史特征包含了加速度、曲率、沿轨迹环境特征等第3章未提及的维度
- 第3章生成的是连续轨迹，但第4章使用的是"样本"（90步历史+360步未来+环境地图），这个切分过程没有在任何章节中描述
- 第4章表4.1的18通道环境地图中，ch16是"历史轨迹热力图"、ch17是"目标先验地图"，这两个通道是在评估时动态生成的，不属于第3章的环境数据预处理，但论文没有说明

**修改建议：**
- 在第3章末尾或第4章开头增加一节"数据集构建与样本提取"，说明如何从连续轨迹中提取训练样本
- 明确26维特征的计算方式（哪些是从原始轨迹计算的，哪些是从环境数据查询的）
- 说明ch16和ch17的动态生成机制

### 2.3 第1章文献综述与第4章方法的对应关系

**问题：** 第1章综述了大量方法（IMM、HMM、贝叶斯网络、高斯过程、Social-LSTM、Transformer、GAN、CVAE、TNT、PECNet等），但第4章的基线对比只用了YNet、PECNet、SimpleLSTM三个。

- 论文声称受TNT框架启发，但没有将TNT本身作为基线
- 第1章花大量篇幅介绍的Social-LSTM、Transformer等方法均未出现在实验中
- 实际代码中评估了13个模型变体，但论文只报告了4个

**修改建议：**
- 基线选择应在第4章中给出明确的理由说明
- 至少应包含一个Transformer基线和原始TNT作为对比
- 或者在第1章综述中减少对与本文无关方法的篇幅

---

## 三、各章节具体问题

### 3.1 第1章 绪论

| # | 问题 | 位置 | 严重性 |
|---|------|------|--------|
| 1 | "研究现状小结"中声称使用MDN表达不确定性 | 1.2.3节 | 致命（见1.1） |
| 2 | 图1.10引用标注为[19]，但[19]是Giuliari的Transformer论文，应为Rybansky[33] | 图1.10 | 高 |
| 3 | "60分钟甚至更长时域"的说法与第4章固定360步(60分钟)不完全一致 | 1.2.3节 | 低 |
| 4 | 1.1节"多模态概率预测"——实际模型输出单一确定性轨迹，不是多模态 | 1.1节 | 高 |
| 5 | 1.3节"研究目标与内容"第三点说"为潜在多个可能终点赋予相应概率"——实际是从候选集中分类选择，不是"赋予概率" | 1.3节 | 中 |

### 3.2 第2章 多星协同对地观测系统与目标位置预测任务分析

| # | 问题 | 位置 | 严重性 |
|---|------|------|--------|
| 1 | 整章内容过于教科书化，缺乏与本文具体方法的关联 | 全章 | 高 |
| 2 | 2.4.3节"预测不确定性表示"提到概率密度函数，但第4章模型输出确定性轨迹 | 2.4.3 | 高 |
| 3 | 2.1节引用的图2.1、图2.2、图2.3全部来自参考文献[38]，缺乏原创图表 | 2.1-2.2 | 中 |
| 4 | 2.3节"环境约束的数学表示"公式过于泛化，与第3章具体实现脱节 | 2.3 | 中 |

### 3.3 第3章 基于环境约束的轨迹生成方法

| # | 问题 | 位置 | 严重性 |
|---|------|------|--------|
| 1 | 表3.1列出了11个LULC类别（含code 255），但表4.1只有10个LULC通道（ch4-13），code 255在代码中映射到ch14(Tree cover)还是被丢弃？实际代码env_map ch14是Tree cover而非LULC code 255 | 表3.1 vs 表4.1 | 高 |
| 2 | 表3.6速度预测特征为20维，但第4章表4.2历史特征为26维，两者的关系未说明 | 3.3.2 vs 4.1.2 | 高 |
| 3 | 表3.9正文自相矛盾：表格显示R²(训练)=0.9454，但紧接着的文字说"5折训练集的R²均超过0.98"——0.9454≠0.98 | 3.4.1 | 高 |
| 4 | 3.2.4节"目标点定义"只描述了随机策略，但表3.5提到"POI导向"策略，该策略的具体定义缺失 | 3.2.4 | 中 |
| 5 | 图编号冲突：图3.1同时用于"轨迹生成方法流程"和"Bellmouth段轨迹采集区域"（两个不同的图用了同一个编号） | 图3.1 | 高 |
| 6 | 3.5节小结中"R²达到0.815"与"R²=0.802"（人类对比）混用，需明确区分 | 3.5 | 低 |
| 7 | 3.5节小结中"15-25维特征向量"表述模糊，实际表3.6明确定义了20维 | 3.5 | 低 |
| 8 | 缩略语表中"OORD"全称为"Off-Road Obstacle Dataset"，但3.1.1节正文写"Oxford Offroad Radar Dataset"——两者不一致 | 缩略语表 vs 3.1.1 | 高 |
| 9 | 第5章总结说"标准、隐蔽优先、高机动性、山地特种**四种**典型场景"，但表3.3只定义了**三种**战术意图 | 5.1 vs 3.2.2 | 高 |
| 10 | 3.1.1节"Bellmouth段的路径示意图如。"——句子不完整，缺少图号引用 | 3.1.1 | 低 |

### 3.4 第4章 基于意图感知的目标位置预测方法

| # | 问题 | 位置 | 严重性 |
|---|------|------|--------|
| 1 | 所有实验表格数据与实际代码输出不符（见1.2节详细对比） | 表4.6-4.14 | 致命 |
| 2 | 表4.1列出18通道，但ch14写"信息缺失(code 255)"，实际代码ch14是Tree cover | 表4.1 | 高 |
| 3 | 论文只对比了4个基线（YNet/PECNet/SimpleLSTM/本文），实际评估了13个模型 | 4.3节 | 高 |
| 4 | 4.1.1节说"四层卷积网络"单尺度编码器，但实际训练模型使用了双尺度（global+local）环境编码器（见1.6） | 4.1.1 | 致命 |
| 5 | 4.1.2节说"双层LSTM"，代码中PaperLSTMHistoryEncoder确实是2层LSTM，一致 | 4.1.2 | OK |
| 6 | 4.2.1节损失函数描述（交叉熵+MSE）与代码一致，但实际训练还包含waypoint loss（wp_weight=2.0）、traj_wp_align_weight等未提及的损失项 | 4.2.1 | 高 |
| 7 | 4.2.2节训练配置：batch_size=64/lr=1e-4 vs 实际 batch_size=16/lr=0.001（见1.5） | 4.2.2 | 致命 |
| 8 | 4.3.1节三阶段评估框架设计合理，但Phase 2描述为"域外目标"，实际实现是"区域先验σ=10km"，含义不同 | 4.3.1 | 高 |
| 9 | 4.3.2节Phase 1样本数：论文893 vs 实际354（见1.8） | 4.3.2 | 高 |
| 10 | 4.4.1节K敏感性：论文表4.10的K值范围是3-20且含EP@1指标，实际实验K=6-200且无EP@1 | 4.4.1 | 高 |
| 11 | 4.4.2节观测长度：论文表4.11数据（9min最优ADE=1.36km）与实际结果（所有长度ADE≈5.65km）严重不符 | 4.4.2 | 致命 |
| 12 | 4.1.3节说"候选终点来源于距离当前位置3000米范围内的兴趣点（POI）"，但实际代码是从热力图中采样候选（heatmap-based sampling），与POI无关 | 4.1.3 | 高 |
| 13 | 4.1.4节轨迹生成器描述为简单LSTM解码器，但实际模型使用层次化解码器（hierarchical decoder with waypoint attention），包含wp_query、wp_attn等组件 | 4.1.4 | 高 |
| 14 | 4.6节跨区域实验：论文描述了4区域独立训练+跨区域泛化，但实际只完成了BF→Donbas | 4.6 | 高 |
| 15 | 4.7节"本章小结"中"环境编码器移除后ADE增加39.8%"与表4.13的72.4%和实际的487%，三个数字互不一致 | 4.7 | 高 |
| 16 | 章节结构安排中提到"4.7节定性案例分析"和"4.9节总结"，但实际目录中4.5消融→4.6跨区域→4.7本章小结，缺少4.7/4.8/4.9 | 章首 | 中 |
| 17 | 4.4.2节观测长度实验解读："9分钟最优"的非单调结论缺乏物理解释，实际实验显示历史长度对P1a几乎无影响（因为精确终点先验主导） | 4.4.2 | 高 |

### 3.5 第5章 总结与展望

| # | 问题 | 位置 | 严重性 |
|---|------|------|--------|
| 1 | "采用门控循环单元…输出高斯混合模型"与实际实现完全矛盾（见1.1） | 5.1 | 致命 |
| 2 | "基于深度学习的概率预测方法"——模型输出是确定性的，不是概率的 | 5.1 | 致命 |
| 3 | 5.2节"不足"中未提及模型在Phase 2/3中性能大幅下降的问题 | 5.2 | 高 |
| 4 | 5.3节"展望"提到"空间-时间注意力机制"，但当前模型已使用了cross-attention | 5.3 | 中 |

---

## 四、表4.1 环境通道 vs 实际代码对照

| 通道 | 论文表4.1 | 实际代码(env_map) | 是否一致 |
|------|----------|------------------|---------|
| ch0 | DEM高程 | DEM | ✅ |
| ch1 | 地形坡度 | Slope | ✅ |
| ch2 | 坡向正弦 | Aspect sin | ✅ |
| ch3 | 坡向余弦 | Aspect cos | ✅ |
| ch4-13 | LULC 10类(code 10-100) | LULC 10类 | ✅ |
| ch14 | **信息缺失(code 255)** | **Tree cover** | ❌ |
| ch15 | 道路网络 | Road | ✅ |
| ch16 | 历史轨迹热力图 | History heatmap | ✅ |
| ch17 | 目标先验地图 | Goal prior map | ✅ |

**ch14不一致：** 论文写的是"信息缺失(code 255)"，实际代码是"Tree cover（树木覆盖度）"。需要修正表4.1。

---

## 五、章节间逻辑关系总结

```
第1章(绪论) ──→ 第2章(问题分析) ──→ 第3章(轨迹生成) ──→ 第4章(预测模型) ──→ 第5章(总结)
   │                  │                    │                    │                   │
   │ 综述了MDN/GMM    │ 定义了概率预测     │ 生成确定性轨迹     │ 确定性MSE训练     │ 声称用了MDN/GRU
   │ 但未实现         │ 但未落地           │ 数据格式未衔接     │ 表格数据不真实     │ 与实现矛盾
   └─────────────────┴──────────────────┴──────────────────┴──────────────────┘
                                    核心矛盾链
```

**主线逻辑问题：** 论文在第1章和第5章构建了一个"概率预测"的叙事框架（MDN、GMM、GRU），但第4章实际实现的是"确定性预测+离散候选分类"。这个矛盾贯穿全文，必须统一。

**推荐统一叙事：** 模型通过候选终点分类机制实现了对目标意图不确定性的**离散化建模**——这本身是一种有效的不确定性处理方式（类似于TNT原文的做法），不需要强行套用MDN/GMM的概率框架。

---

## 六、修改优先级排序

### P0 - 必须立即修改（影响论文可信度，共10项）
1. 删除所有MDN/GMM/GRU的虚假声称（第1章1.2.3、第5章5.1）
2. 修正摘要（中英文）中"ADE=1.23km"和"10万余条轨迹"的虚假数据
3. 用真实实验数据替换所有表格（表4.6-4.14）
4. 修正训练超参数表4.3（batch_size=16, lr=0.001）
5. 补充双尺度环境编码器的描述（4.1.1节），或说明论文描述的是简化版架构
6. 修正表4.1 ch14的描述（Tree cover而非code 255）
7. 修正Phase 1样本数（354而非893）
8. 修正第5章"四种典型场景"为"三种战术意图"
9. 修正OORD全称不一致（缩略语表 vs 正文）
10. 修正表3.9正文中"R²均超过0.98"的错误（实际0.9454）

### P1 - 应当修改（影响论文质量，共10项）
11. 补充第3章→第4章的数据流衔接说明（样本切分、特征计算）
12. 统一三阶段评估的描述与实际实现（Phase 2含义）
13. 修正表编号不连续问题（表3.4、4.5、4.9、4.16缺失）
14. 扩充基线对比（至少报告V6R_Robust等实际最优模型）
15. 修正第4章小结中消融数据的引用错误（39.8% vs 72.4% vs 487%）
16. 补充损失函数中waypoint loss等实际使用的额外损失项
17. 修正4.1.3节候选终点来源描述（热力图采样而非POI）
18. 修正4.1.4节轨迹生成器描述（补充层次化解码器和waypoint attention）
19. 修正图3.1编号冲突（两个不同图用了同一编号）
20. 修正图1.10引用标注（[19]应为[33]）

### P2 - 建议修改（提升论文严谨性，共6项）
21. 精简第2章教科书内容，加强与后续章节的关联
22. 补充控制变量实验的真实数据和物理解释
23. 说明ch16/ch17的动态生成机制
24. 修正章节结构安排中4.7/4.8/4.9的描述与实际目录不符
25. 补充POI导向策略的具体定义（3.2.4节）
26. 5.2节"不足"中应提及Phase 2/3性能大幅下降的问题

---

## 七、问题统计

| 严重性 | 数量 |
|--------|------|
| 致命 | 8 |
| 高 | 22 |
| 中 | 7 |
| 低 | 4 |
| OK（一致） | 2 |
| **合计** | **43** |

| 章节 | 致命 | 高 | 中 | 低 |
|------|------|-----|-----|-----|
| 全局/摘要 | 3 | 4 | 0 | 0 |
| 第1章 | 1 | 2 | 1 | 1 |
| 第2章 | 0 | 2 | 2 | 0 |
| 第3章 | 0 | 4 | 1 | 3 |
| 第4章 | 4 | 9 | 1 | 0 |
| 第5章 | 2 | 1 | 1 | 0 |
